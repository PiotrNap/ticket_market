{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport Router from 'next/router';\nimport useRequest from '../../hooks/use-request';\n\nconst NewTicket = () => {\n  const {\n    0: title,\n    1: setTitle\n  } = useState('');\n  const {\n    0: price,\n    1: setPrice\n  } = useState('');\n  const {\n    doRequest,\n    errors\n  } = useRequest({\n    url: '/api/tickets',\n    method: 'post',\n    body: {\n      title,\n      price\n    },\n    onSuccess: ticket => Router.push('/dashboard')\n  });\n\n  const onSubmit = event => {\n    event.preventDefault();\n    doRequest();\n  };\n\n  const onBlur = () => {\n    const value = parseFloat(price);\n\n    if (isNaN(value)) {\n      return;\n    }\n\n    setPrice(value.toFixed(2));\n  };\n\n  return __jsx(\"div\", null, __jsx(\"h1\", null, \"Create a Ticket\"), __jsx(\"form\", {\n    onSubmit: onSubmit\n  }, __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", null, \"Title\"), __jsx(\"input\", {\n    value: title,\n    onChange: e => setTitle(e.target.value),\n    className: \"form-control\"\n  })), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", null, \"Price\"), __jsx(\"input\", {\n    value: price,\n    onBlur: onBlur,\n    onChange: e => setPrice(e.target.value),\n    className: \"form-control\"\n  })), errors, __jsx(\"button\", {\n    className: \"btn btn-primary\"\n  }, \"Submit\")));\n};\n\nexport default NewTicket;","map":null,"metadata":{},"sourceType":"module"}