{"ast":null,"code":"import React from \"react\";\nvar __jsx = React.createElement;\nimport { useState } from 'react';\nimport Router from 'next/router';\nimport useRequest from '../../hooks/use-request';\n\nvar NewTicket = function NewTicket() {\n  var _useState = useState(''),\n      title = _useState[0],\n      setTitle = _useState[1];\n\n  var _useState2 = useState(''),\n      price = _useState2[0],\n      setPrice = _useState2[1];\n\n  var _useRequest = useRequest({\n    url: '/api/tickets',\n    method: 'post',\n    body: {\n      title: title,\n      price: price\n    },\n    onSuccess: function onSuccess(ticket) {\n      return Router.push('/dashboard');\n    }\n  }),\n      doRequest = _useRequest.doRequest,\n      errors = _useRequest.errors;\n\n  var onSubmit = function onSubmit(event) {\n    event.preventDefault();\n    doRequest();\n  };\n\n  var onBlur = function onBlur() {\n    var value = parseFloat(price);\n\n    if (isNaN(value)) {\n      return;\n    }\n\n    setPrice(value.toFixed(2));\n  };\n\n  return __jsx(\"div\", null, __jsx(\"h1\", null, \"Create a Ticket\"), __jsx(\"form\", {\n    onSubmit: onSubmit\n  }, __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", null, \"Title\"), __jsx(\"input\", {\n    value: title,\n    onChange: function onChange(e) {\n      return setTitle(e.target.value);\n    },\n    className: \"form-control\"\n  })), __jsx(\"div\", {\n    className: \"form-group\"\n  }, __jsx(\"label\", null, \"Price\"), __jsx(\"input\", {\n    value: price,\n    onBlur: onBlur,\n    onChange: function onChange(e) {\n      return setPrice(e.target.value);\n    },\n    className: \"form-control\"\n  })), errors, __jsx(\"button\", {\n    className: \"btn btn-primary\"\n  }, \"Submit\")));\n};\n\nexport default NewTicket;","map":null,"metadata":{},"sourceType":"module"}